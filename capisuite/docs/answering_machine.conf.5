.\"Generated by db2man.xsl. Don't modify this, modify the source.
.de Sh \" Subsection
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Ip \" List item
.br
.ie \\n(.$>=3 .ne \\$3
.el .ne 3
.IP "\\$1" \\$2
..
.TH "ANSWERING_MACHINE" 5 "" "" ""
.SH NAME
answering_machine.conf \- configuration of CapiSuite answering machine
.SH "DESCRIPTION"

.PP
This file holds all available config options for the answering machine provided by the default scripts distributed with CapiSuite\&. It is read from \fI/etc/capisuite/answering_machine\&.conf\fR or \fI/usr/local/etc/capisuite/answering_machine\&.conf\fR (depending on the installation)\&.

.PP
It is divided into one or more sections\&. A section begins with the section name in square brackets like [section] while the options are key="value" lines\&.

.PP
A special section called [GLOBAL] and one section for each user called [<username>] are required\&.The <username> must be a valid system user\&.

.PP
The [GLOBAL]\-section defines some global options like pathnames and default settings for options that can be overridden in the user\-sections\&. The user\-sections hold all the options which belong to a particular user\&.

.SH "THE [GLOBAL] SECTION"

.TP
\fBaudio_dir="/path/to/audiodir/"\fR
The answering machine script uses several wave files, for example a global announcement if the user hasn't set his own and some spoken word fragments for the remote inquiry and the menu presented there\&. These audio files are searched in this directory\&. If user_audio_files is enabled (see \fBuser_audio_files\fR), each user can also provide his own audio snippets in his user_dir (see \fBvoice_user_dir\fR)\&.

This option is mandatory\&.

.TP
\fBvoice_user_dir="/path/to/userdir/"\fR
This directory is used to save user specific data to\&. It must exist and the user CapiSuite runs as must have write permission to it\&. It will contain one subdirectory for each configured user (named like his userid)\&. The following subdirectories are used below the user\-specific dir:


.RS

.TP
\fIuser_dir/username/\fR
Here the user may provide his own audio_files (see also option \fBuser_audio_files\fR below)\&. The user defined announcement is also saved here\&.

.TP
\fIuser_dir/username/received/\fR
Received voice calls are saved here\&.

.RE
.IP
This option is mandatory\&.

.TP
\fBuser_audio_files="0"\fR
If set to 1, each user may provide his own audio files in his user directory (see \fBvoice_user_dir\fR)\&. If set to 0, only the audio_dir (see \fBvoice_audio_dir\fR) will be searched\&.

This option is optional\&. If not set, it defaults to not reading own user audio files (0)\&.

.TP
\fBvoice_delay="15"\fR
Sets the default value for the delay for accepting an incoming call in (in seconds)\&. A value of 10 means that the answering machine accepts incoming calls 10 seconds after the incoming connection request\&. This value can be overwritten in the user sections individually\&.

This option is mandatory\&.

.TP
\fBannouncement="announcement\&.la"\fR
Sets the default name to use for user announcements\&. The announcements are searched in \fIuser_dir/username/announcement\fR then\&. If not found, a global announcement containing the called MSN will be played\&. This value can be overwritten in the user sections individually\&.

This option is optional\&. If not set, it defaults to "announcement\&.la"\&.

.TP
\fBrecord_length="60"\fR
Default setting for the maximum record length in seconds\&. This value can be overwritten in the user sections individually\&.

This option is optional\&. If not set, it defaults to 60 seconds\&.

.TP
\fBrecord_silence_timeout="5"\fR
Default setting for the record silence timeout in seconds\&. When set to a value greater than 0, the recording will be aborted if silence is detected for the given amount of seconds\&. Set this to 0 to disable it\&. This value can be overwritten in the user sections individually\&.

This option is optional\&. If not set, it defaults to 5 seconds\&.

.TP
\fBvoice_email_from="<mailaddress>"\fR
You can set a default originator ("From"\-address) for the e\-mails CapiSuite sends here\&.

This option is optional\&. If you set this to an empty string, the destinator is used as originator (i\&.e\&. if "gernot" receives a voice call, the mail comes from "gernot" to "gernot")\&.

.SH "THE USER SECTIONS"

.TP
\fBvoice_delay\fR
User specific value for the corresponding global option

.TP
\fBannouncement\fR
User specific value for the corresponding global option

.TP
\fBrecord_length\fR
User specific value for the corresponding global option

.TP
\fBrecord_silence_timeout\fR
User specific value for the corresponding global option

.TP
\fBvoice_email_from\fR
User specific value for the corresponding global option

.TP
\fBvoice_numbers="<number1>,<number2>,\&.\&.\&."\fR
A list containing the numbers on which this user wants to receive incoming voice calls\&. These numbers are used to differ between users \- so the same number must not appear in more than one user section! The numbers are separated with commas and no blanks are allowed\&. The answering machine script does also automatic fax detection, so a fax can be sent to this number\&. When this list is set to *,all incoming calls will be accepted for this user (use with care!)\&. This is only useful for a setup with only one user which wants to receive any call\&.

If for any reason no destination number is signalled for special MSNs (austrian telecom seems to do this for the main MSN, where it is called "Global Call"), you can use the special sign \- which means "no destination number available"\&.

This option is optional\&. If not set, the user won't receive voice calls\&.

.TP
\fBvoice_email=""\fR
If given, this string indicates email\-addresses where the received faxes and voice calls will be sent to\&. If it is empty, they will be sent to the user account on the system CapiSuite is running on\&. More addresses are separated by commas\&. If you don't want emails to be sent at all, use the action option (see \fBvoice_action\fR)\&.

This option is optional\&. If not set, the calls are mailed to the system account\&.

.TP
\fBpin="<your PIN>"\fR
The answering machine also supports a remote inquiry function\&. This function is used by entering a PIN (Personal Identification Number) while the announcement is played\&. This PIN can be setup here\&. If you don't want to use the remote inquiry function, just use an empty PIN setting\&. The PIN doesn't have a maximal length \- but perhaps you should not use 200 digits or you perhaps won't be able to remember them (I won't at least)\&. ;\-)

This option is optional\&. If not set, remote inquiry is disabled\&.

.TP
\fBvoice_action="MailAndSave"\fR
Here you can define what action will be taken when a call is received\&. Currently, three possible actions are supported:

.RS

.TP
\fBMailAndSave\fR
The received call will be mailed to the given address (see\fBvoice_email\fR above) and saved to the \fIvoice_user_dir\fR (see global options)

.TP
\fBSaveOnly\fR
The call will be only saved to the \fIvoice_user_dir\fR (see global options)

.TP
\fBNone\fR
Only the announcement will be played \- no recording is done\&.

.RE
.IP
 

This option is mandatory\&.

.SH "SEE ALSO"

.PP

\fBcapisuite\fR(8), \fBcapisuite\&.conf\fR(5), \fBfax\&.conf\fR(5), \fBcapisuitefax\fR(1)

.SH AUTHOR
Gernot Hillier <gernot@hillier\&.de>.
